define("regs-data",["underscore","backbone","./regs-helpers","./regs-dispatch"],function(e,t,n,r){t.RegModel=t.Model.extend({regStructure:[],content:{},parse:function(e){if(typeof e=="object")for(var t in e)e.hasOwnProperty(t)&&(t==="label"&&this.set(e[t].text,e.text),n.isIterable(e[t])&&this.parse(e[t]));return this},set:function(t,n){var r=this.has(t),i;return r?i=r:(this.content[t]=n,i=n,e.indexOf(this.regStructure,t)===-1&&this.regStructure.push(t)),i},has:function(e){return this.content[e]?this.content[e]:!1},get:function(e){var t=this.has(e)||this.request(e);return t},fetch:function(e){return this.get(e)},request:function(t){var n=[],i,s,o,u;i=e.compact(document.location.pathname.split("/")),o=i.length;for(s=0;s<=o;s++){if(i[s]==="regulation")break;n.push(i[s])}return n.push("partial"),n.push(t),n.push(r.getVersion()),n="/"+n.join("/"),u=$.ajax({url:n,success:function(e){this.set(t,e)}.bind(this)}),u},getChildren:function(e){var t=[],n=this.regStructure.length,r=new RegExp(e+"[-,a-z,0-9]");while(n--)r.test(this.regStructure[n])&&t.push(this.regStructure[n]);return t},getParent:function(e){var t,n;return n=e.split("-"),n.pop(),t=n.join("-"),this.regStructure.indexOf(t)!==-1?this.content[t]:!1},sync:function(){return},save:function(){return},destroy:function(){return}});var i=new t.RegModel;return i});