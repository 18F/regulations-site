define("content-view",["jquery","underscore","backbone","regs-dispatch","definition-view"],function(e,t,n,r,i){var s=n.View.extend({openDefinition:{id:"",view:{},link:{}},events:{"click .definition":"definitionLink","click .expand-button":"expandInterp"},initialize:function(){r.on("definition:remove",this.cleanupDefinition,this)},cleanupDefinition:function(){return delete this.openDefinition.id,this.openDefinition.link&&this.openDefinition.link.removeClass("active").removeData("active"),delete this.openDefinition.link,this},definitionLink:function(n){n.preventDefault();var r=e(n.target),s;return r.data("active")?(this.openDefinition.view.remove(),this):(s=r.attr("data-definition"),r.addClass("active").data("active",1),s===this.openDefinition.id?(this.openDefinition.link.removeClass("active").removeData("active"),this.openDefinition.link=r,this):(t.isEmpty(this.openDefinition.view)||this.openDefinition.view.remove(),this.openDefinition.link=r,this.openDefinition.id=s,this.openDefinition.view=new i({id:s,$anchor:r}),this))},expandInterp:function(t){var n=e(t.target);return n.toggleClass("open").next(".hidden").slideToggle(),n.html(n.hasClass("open")?"Hide":"Show"),this}});return s});